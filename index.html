<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–∞–π–Ω—ã —Å—Ç–∞—Ä–∏–Ω–Ω–æ–≥–æ —Å–µ–π—Ñ–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Times New Roman', serif;
            background: #1a1a1a;
            color: #d4af37;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            max-width: 500px;
            width: 100%;
            text-align: center;
        }
        
        .safe {
            background: #2d2d2d;
            border: 3px solid #d4af37;
            border-radius: 20px;
            padding: 30px 20px;
            margin: 20px 0;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.3);
        }
        
        .safe-door {
            background: #3a3a3a;
            border: 2px solid #d4af37;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .dial {
            background: #000;
            border: 3px solid #d4af37;
            border-radius: 50%;
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            color: #d4af37;
        }
        
        .code-input {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .code-digit {
            width: 25px;
            height: 35px;
            border: 2px solid #d4af37;
            background: #000;
            color: #d4af37;
            text-align: center;
            font-size: 16px;
            border-radius: 5px;
        }
        
        button {
            background: #d4af37;
            color: #1a1a1a;
            border: none;
            padding: 12px 30px;
            font-size: 16px;
            border-radius: 8px;
            cursor: pointer;
            margin: 10px;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        button:hover {
            background: #ffd700;
            transform: scale(1.05);
        }
        
        .hidden {
            display: none;
        }
        
        .artifact {
            max-width: 300px;
            margin: 20px auto;
            border: 2px solid #d4af37;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .artifact img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .artifact-caption {
            background: #2d2d2d;
            padding: 10px;
            font-style: italic;
            color: #d4af37;
        }
        
        .document {
            background: #f5e8c8;
            color: #2c1810;
            padding: 20px;
            border: 2px solid #8b4513;
            border-radius: 10px;
            margin: 20px 0;
            text-align: left;
        }
        
        .name-input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #8b4513;
            border-radius: 5px;
            font-size: 16px;
        }
        
        h1 {
            color: #d4af37;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
        }
        
        h2 {
            color: #d4af37;
            margin: 20px 0;
        }
        
        h3 {
            color: #8b4513;
            margin: 15px 0;
        }
        
        p {
            margin: 10px 0;
            line-height: 1.5;
        }
        
        .code-hint {
            font-size: 14px;
            color: #a1887f;
            margin: 10px 0;
        }
        
        @media (max-width: 480px) {
            .code-digit {
                width: 22px;
                height: 32px;
                font-size: 14px;
            }
            
            .safe {
                padding: 20px 15px;
            }
            
            .container {
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –≠–∫—Ä–∞–Ω –≤–≤–æ–¥–∞ –∫–æ–¥–∞ -->
        <div id="codeScreen">
            <h1>üîê –¢–∞–π–Ω—ã —Å—Ç–∞—Ä–∏–Ω–Ω–æ–≥–æ —Å–µ–π—Ñ–∞</h1>
            <div class="safe">
                <div class="safe-door">
                    <div class="dial">S</div>
                    <p>–í–≤–µ–¥–∏—Ç–µ 17-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥ —Å–µ–π—Ñ–∞:</p>
                    <div class="code-input" id="codeInputs">
                        <!-- –¶–∏—Ñ—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
                    </div>
                    <p class="code-hint">–ö–æ–¥: 17 —Ü–∏—Ñ—Ä –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ –í–æ—Ä–æ–Ω–µ–∂—Å–∫–æ–π –≥—É–±–µ—Ä–Ω–∏–∏</p>
                    <button onclick="checkCode()">–û—Ç–∫—Ä—ã—Ç—å —Å–µ–π—Ñ</button>
                    <div id="errorMsg" class="hidden" style="color: #ff4444; margin: 10px 0;">
                        –ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.
                    </div>
                </div>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º —Å–µ–π—Ñ–∞ -->
        <div id="safeContent" class="hidden">
            <h1>üéâ –°–µ–π—Ñ –æ—Ç–∫—Ä—ã—Ç!</h1>
            
            <!-- –í–≤–æ–¥ –∏–º–µ–Ω–∏ -->
            <div id="nameInputSection">
                <h2>–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è –¥–ª—è –≥—Ä–∞–º–æ—Ç—ã:</h2>
                <input type="text" id="userName" class="name-input" placeholder="–í–∞—à–µ –∏–º—è" maxlength="50">
                <button onclick="generateDocuments()">–°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã</button>
            </div>

            <!-- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç -->
            <div id="artifactSection" class="hidden">
                <h2>–ù–∞–π–¥–µ–Ω–Ω—ã–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç:</h2>
                <div class="artifact">
                    <!-- –ó–ê–ú–ï–ù–ò–¢–ï –ù–ê –†–ï–ê–õ–¨–ù–û–ï –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ï -->
                    <img src="scythian-comb.jpg" alt="–†–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —á–∞—à–∏ —Å –≥—Ä–∏—Ñ–æ–Ω–æ–º. –†–∞—Å–∫–æ–ø–∫–∏ —Å–∫–∏—Ñ—Å–∫–æ–≥–æ –º–æ–≥–∏–ª—å–Ω–∏–∫–∞ ¬´–ß–∞—Å—Ç—ã–µ –∫—É—Ä–≥–∞–Ω—ã¬ª –≤ –í–æ—Ä–æ–Ω–µ–∂–µ –ü.–î. –õ–∏–±–µ—Ä–æ–≤—ã–º –≤ 1954 –≥." onerror="this.style.display='none'; document.getElementById('placeholder').style.display='block';">
                    <div id="placeholder" style="background: #8b4513; color: #d4af37; padding: 100px 20px; display: none;">
                        üè∫ –†–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —á–∞—à–∏ —Å –≥—Ä–∏—Ñ–æ–Ω–æ–º. –†–∞—Å–∫–æ–ø–∫–∏ —Å–∫–∏—Ñ—Å–∫–æ–≥–æ –º–æ–≥–∏–ª—å–Ω–∏–∫–∞ ¬´–ß–∞—Å—Ç—ã–µ –∫—É—Ä–≥–∞–Ω—ã¬ª –≤ –í–æ—Ä–æ–Ω–µ–∂–µ –ü.–î. –õ–∏–±–µ—Ä–æ–≤—ã–º –≤ 1954 –≥.
                    </div>
                    <div class="artifact-caption">
                        –†–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —á–∞—à–∏ —Å –≥—Ä–∏—Ñ–æ–Ω–æ–º. –†–∞—Å–∫–æ–ø–∫–∏ —Å–∫–∏—Ñ—Å–∫–æ–≥–æ –º–æ–≥–∏–ª—å–Ω–∏–∫–∞ ¬´–ß–∞—Å—Ç—ã–µ –∫—É—Ä–≥–∞–Ω—ã¬ª –≤ –í–æ—Ä–æ–Ω–µ–∂–µ –ü.–î. –õ–∏–±–µ—Ä–æ–≤—ã–º –≤ 1954 –≥.
                    </div>
                </div>
            </div>

            <!-- –ì—Ä–∞–º–æ—Ç–∞ -->
            <div id="diplomaSection" class="hidden">
                <h2>–í–∞—à–∞ –≥—Ä–∞–º–æ—Ç–∞:</h2>
                <div class="document">
                    <h3 style="text-align: center;">–î–ò–ü–õ–û–ú –ò–°–°–õ–ï–î–û–í–ê–¢–ï–õ–Ø</h3>
                    <p style="text-align: center;"><strong>–í–æ—Ä–æ–Ω–µ–∂—Å–∫–∏–π –æ–±–ª–∞—Å—Ç–Ω–æ–π –∫—Ä–∞–µ–≤–µ–¥—á–µ—Å–∫–∏–π –º—É–∑–µ–π</strong></p>
                    <br>
                    <p>–ù–∞—Å—Ç–æ—è—â–∏–º —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è–µ—Ç—Å—è, —á—Ç–æ</p>
                    <p style="text-align: center; font-size: 18px; font-weight: bold;" id="diplomaName"></p>
                    <p>—É—Å–ø–µ—à–Ω–æ —Ä–∞—Å–∫—Ä—ã–ª(–∞) —Ç–∞–π–Ω—É —Å—Ç–∞—Ä–∏–Ω–Ω–æ–≥–æ —Å–µ–π—Ñ–∞ –∏ –ø—Ä–æ—è–≤–∏–ª(–∞) –≤—ã–¥–∞—é—â–∏–µ—Å—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –≤ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ –∏—Å—Ç–æ—Ä–∏–∏ –í–æ—Ä–æ–Ω–µ–∂—Å–∫–æ–π –≥—É–±–µ—Ä–Ω–∏–∏.</p>
                    <br>
                    <p>–ü—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –∑–≤–∞–Ω–∏–µ <strong>"–ü–æ—á—ë—Ç–Ω—ã–π –∏—Å—Ç–æ—Ä–∏–∫-–∞—Ä—Ö–∏–≤–∏—Å—Ç"</strong></p>
                    <br>
                    <div style="border-top: 1px solid #8b4513; padding-top: 10px;">
                        <p>–•—Ä–∞–Ω–∏—Ç–µ–ª—å –º—É–∑–µ–π–Ω—ã—Ö —Ç–∞–π–Ω</p>
                        <p>–î–∞—Ç–∞: <span id="diplomaDate"></span></p>
                    </div>
                </div>
                <button onclick="downloadDiploma()">üì• –°–∫–∞—á–∞—Ç—å –≥—Ä–∞–º–æ—Ç—É</button>
            </div>

            <!-- –õ–µ–≥–µ–Ω–¥–∞ -->
            <div id="legendSection" class="hidden">
                <h2>–õ–µ–≥–µ–Ω–¥–∞ –æ –∑–æ–ª–æ—Ç–µ —Å–∫–∏—Ñ–æ–≤:</h2>
                <div class="document">
                    <h3 style="text-align: center;">–¢–ê–ô–ù–ê –ó–û–õ–û–¢–ê –°–ö–ò–§–û–í</h3>
                    <br>
                    <p>–í–æ—Ä–æ–Ω–µ–∂—Å–∫–∞—è –∑–µ–º–ª—è —Ö—Ä–∞–Ω–∏—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∑–∞–≥–∞–¥–æ–∫, –Ω–æ –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –∏–Ω—Ç—Ä–∏–≥—É—é—â–∏—Ö —Å–≤—è–∑–∞–Ω–∞ —Å –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–º –∑–æ–ª–æ—Ç–æ–º —Å–∫–∏—Ñ–æ–≤.</p>
                    <br>
                    <p><strong>–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç:</strong> –°–∫–∏—Ñ—Å–∫–∏–µ –ø–ª–µ–º–µ–Ω–∞, –Ω–∞—Å–µ–ª—è–≤—à–∏–µ —ç—Ç–∏ –∑–µ–º–ª–∏ –≤ VII-III –≤–µ–∫–∞—Ö –¥–æ –Ω–∞—à–µ–π —ç—Ä—ã, —Å–ª–∞–≤–∏–ª–∏—Å—å —Å–≤–æ–∏–º–∏ –∑–æ–ª–æ—Ç—ã–º–∏ —É–∫—Ä–∞—à–µ–Ω–∏—è–º–∏. –ú–∞—Å—Ç–µ—Ä–∞ —Å–æ–∑–¥–∞–≤–∞–ª–∏ –Ω–∞—Å—Ç–æ—è—â–∏–µ —à–µ–¥–µ–≤—Ä—ã: –≥—Ä–µ–±–Ω–∏, –ø–æ–¥–≤–µ—Å–∫–∏, —Ä–∏—Ç–æ–Ω—ã, —É–∫—Ä–∞—à–µ–Ω–Ω—ã–µ —Å–ª–æ–∂–Ω—ã–º–∏ –æ—Ä–Ω–∞–º–µ–Ω—Ç–∞–º–∏ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –∂–∏–≤–æ—Ç–Ω—ã—Ö.</p>
                    <br>
                    <p><strong>–ê—Ä—Ö–µ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –Ω–∞—Ö–æ–¥–∫–∏:</strong> –ù–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –í–æ—Ä–æ–Ω–µ–∂—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏ –±—ã–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å–∫–∏—Ñ—Å–∫–∏–µ –∫—É—Ä–≥–∞–Ω—ã. –°–∞–º—ã–µ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Ö–æ–¥–∫–∏ –≤–∫–ª—é—á–∞—é—Ç –∑–æ–ª–æ—Ç—ã–µ —É–∫—Ä–∞—à–µ–Ω–∏—è —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –æ–ª–µ–Ω–µ–π, –≥—Ä–∏—Ñ–æ–Ω–æ–≤ –∏ –¥—Ä—É–≥–∏—Ö –º–∏—Ñ–∏—á–µ—Å–∫–∏—Ö —Å—É—â–µ—Å—Ç–≤, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã—Ö –¥–ª—è —Å–∫–∏—Ñ—Å–∫–æ–≥–æ "–∑–≤–µ—Ä–∏–Ω–æ–≥–æ —Å—Ç–∏–ª—è".</p>
                    <br>
                    <p><strong>–ó–∞–≥–∞–¥–∫–∞ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è:</strong> –ü–æ –ª–µ–≥–µ–Ω–¥–µ, –∫–æ–≥–¥–∞ —Å–∫–∏—Ñ–∞–º —É–≥—Ä–æ–∂–∞–ª–∞ –æ–ø–∞—Å–Ω–æ—Å—Ç—å, –æ–Ω–∏ —Å–ø—Ä—è—Ç–∞–ª–∏ —Å–≤–æ–∏ –≥–ª–∞–≤–Ω—ã–µ —Å–æ–∫—Ä–æ–≤–∏—â–∞ –≤ —Ç–∞–π–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö. –ú–Ω–æ–≥–∏–µ –∏—Å–∫–∞—Ç–µ–ª–∏ –¥–æ —Å–∏—Ö –ø–æ—Ä –ø—ã—Ç–∞—é—Ç—Å—è —Ä–∞–∑–≥–∞–¥–∞—Ç—å —ç—Ç—É –º–Ω–æ–≥–æ–≤–µ–∫–æ–≤—É—é —Ç–∞–π–Ω—É.</p>
                    <br>
                    <p>–ù–∞–π–¥–µ–Ω–Ω—ã–π –≤–∞–º–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç ‚Äî –ª–∏—à—å –º–∞–ª–∞—è —á–∞—Å—Ç—å –≤–µ–ª–∏–∫–æ–≥–æ –Ω–∞—Å–ª–µ–¥–∏—è —Å–∫–∏—Ñ—Å–∫–æ–π –∫—É–ª—å—Ç—É—Ä—ã, —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ –≤—ã—Å–æ–∫–æ–≥–æ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–∞ –¥—Ä–µ–≤–Ω–∏—Ö —é–≤–µ–ª–∏—Ä–æ–≤ –∏ –±–æ–≥–∞—Ç–æ–π –∏—Å—Ç–æ—Ä–∏–∏ –Ω–∞—à–µ–≥–æ –∫—Ä–∞—è.</p>
                </div>
                <button onclick="downloadLegend()">üì• –°–∫–∞—á–∞—Ç—å –ª–µ–≥–µ–Ω–¥—É</button>
            </div>

            <button onclick="resetQuest()" style="margin-top: 20px;">üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
        </div>
    </div>

    <script>
        // –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π 17-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥
        const CORRECT_CODE = '66751649552322610';
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–µ–π –¥–ª—è –≤–≤–æ–¥–∞ –∫–æ–¥–∞
        function initCodeInputs() {
            const codeInputs = document.getElementById('codeInputs');
            codeInputs.innerHTML = '';
            
            for (let i = 0; i < 17; i++) {
                const input = document.createElement('input');
                input.type = 'text';
                input.maxLength = 1;
                input.className = 'code-digit';
                input.addEventListener('input', function(e) {
                    // –ê–≤—Ç–æ–ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –ø–æ–ª—é
                    if (e.target.value && i < 16) {
                        codeInputs.children[i + 1].focus();
                    }
                    
                    // –†–∞–∑—Ä–µ—à–∞–µ–º —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã
                    e.target.value = e.target.value.replace(/[^0-9]/g, '');
                });
                
                input.addEventListener('keydown', function(e) {
                    // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞–∑–∞–¥ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ Backspace
                    if (e.key === 'Backspace' && !e.target.value && i > 0) {
                        codeInputs.children[i - 1].focus();
                    }
                    
                    // –ü–µ—Ä–µ—Ö–æ–¥ –≤–ø–µ—Ä–µ–¥ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏ –≤–ø—Ä–∞–≤–æ
                    if (e.key === 'ArrowRight' && i < 16) {
                        codeInputs.children[i + 1].focus();
                    }
                    
                    // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞–∑–∞–¥ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ —Å—Ç—Ä–µ–ª–∫–∏ –≤–ª–µ–≤–æ
                    if (e.key === 'ArrowLeft' && i > 0) {
                        codeInputs.children[i - 1].focus();
                    }
                });
                
                codeInputs.appendChild(input);
            }
            
            // –§–æ–∫—É—Å –Ω–∞ –ø–µ—Ä–≤–æ–µ –ø–æ–ª–µ
            if (codeInputs.firstChild) {
                codeInputs.firstChild.focus();
            }
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
        function checkCode() {
            const codeInputs = document.getElementById('codeInputs').children;
            let enteredCode = '';
            
            for (let input of codeInputs) {
                enteredCode += input.value;
            }
            
            if (enteredCode === CORRECT_CODE) {
                document.getElementById('codeScreen').classList.add('hidden');
                document.getElementById('safeContent').classList.remove('hidden');
            } else {
                document.getElementById('errorMsg').classList.remove('hidden');
                // –û—á–∏—Å—Ç–∫–∞ –ø–æ–ª–µ–π –ø—Ä–∏ –æ—à–∏–±–∫–µ
                for (let input of codeInputs) {
                    input.value = '';
                }
                codeInputs[0].focus();
            }
        }
        
        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
        function generateDocuments() {
            const userName = document.getElementById('userName').value.trim();
            
            if (!userName) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è');
                return;
            }
            
            // –ó–∞–ø–æ–ª–Ω—è–µ–º –≥—Ä–∞–º–æ—Ç—É
            document.getElementById('diplomaName').textContent = userName;
            document.getElementById('diplomaDate').textContent = new Date().toLocaleDateString('ru-RU');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ —Ä–∞–∑–¥–µ–ª—ã
            document.getElementById('nameInputSection').classList.add('hidden');
            document.getElementById('artifactSection').classList.remove('hidden');
            document.getElementById('diplomaSection').classList.remove('hidden');
            document.getElementById('legendSection').classList.remove('hidden');
        }
        
        // –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≥—Ä–∞–º–æ—Ç—ã
        function downloadDiploma() {
            const diplomaContent = document.getElementById('diplomaSection').querySelector('.document');
            const userName = document.getElementById('userName').value.trim() || '–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å';
            
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>–ì—Ä–∞–º–æ—Ç–∞ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—è</title>
                    <style>
                        body { font-family: 'Times New Roman', serif; padding: 40px; }
                        .document { border: 2px solid #8b4513; padding: 30px; max-width: 600px; margin: 0 auto; }
                        h3 { text-align: center; color: #8b4513; }
                        p { margin: 10px 0; line-height: 1.5; }
                    </style>
                </head>
                <body>
                    ${diplomaContent.outerHTML}
                </body>
                </html>
            `);
            printWindow.document.close();
            printWindow.print();
        }
        
        // –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –ª–µ–≥–µ–Ω–¥—ã
        function downloadLegend() {
            const legendContent = document.getElementById('legendSection').querySelector('.document');
            
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>–õ–µ–≥–µ–Ω–¥–∞ –æ –∑–æ–ª–æ—Ç–µ —Å–∫–∏—Ñ–æ–≤</title>
                    <style>
                        body { font-family: 'Times New Roman', serif; padding: 40px; }
                        .document { border: 2px solid #8b4513; padding: 30px; max-width: 600px; margin: 0 auto; }
                        h3 { text-align: center; color: #8b4513; }
                        p { margin: 10px 0; line-height: 1.5; }
                    </style>
                </head>
                <body>
                    ${legendContent.outerHTML}
                </body>
                </html>
            `);
            printWindow.document.close();
            printWindow.print();
        }
        
        // –°–±—Ä–æ—Å –∫–≤–µ—Å—Ç–∞
        function resetQuest() {
            document.getElementById('safeContent').classList.add('hidden');
            document.getElementById('codeScreen').classList.remove('hidden');
            document.getElementById('errorMsg').classList.add('hidden');
            document.getElementById('userName').value = '';
            document.getElementById('nameInputSection').classList.remove('hidden');
            document.getElementById('artifactSection').classList.add('hidden');
            document.getElementById('diplomaSection').classList.add('hidden');
            document.getElementById('legendSection').classList.add('hidden');
            initCodeInputs();
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            initCodeInputs();
        });
    </script>
</body>
</html>